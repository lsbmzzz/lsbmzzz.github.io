---
layout:     post
title:      MyBatis
subtitle:   MyBatis
date:       2019-09-05
author:     正版慕言
header-img: img/blog_bg_1.jpg
catalog: true
mathjax: true
tags:
    - MyBatis

---

ORM(Object Relation Mapping, 对象关系映射)：Java对象通过xml文件mapping到数据库

JDBC缺陷：
- 大量配置信息硬编码
- 大量的无关业务处理的编码
- 不便于扩展和优化

MyBatis是支持定制化SQL、存储过程以及高级映射的优秀的持久层框架
- 避免了JDBC的硬编码
- XML配置或注解
- POJO对象和数据库记录直接映射
- 文档支持

MyBatis的使用场景：
- 关注sql优化的项目
- 需求频繁更新改动的项目

# MyBatis核心API操作过程

1. 配置好mybatis.xml和XXXMapper.xml映射配置文件，在程序运行时，对它们进行读取
2. SqlSessionFactoryBuilder构建出SqlSessionFactory工厂类(整个应用程序中只需要构建一次)
3. 通过SqlSessionFactory获得一个SqlSession(与数据库之间的会话)
4. 由会话的执行器Executer来执行sql语句(sql语句配置在XXXMapper.xml文件中)
5. 准备好sql的输入参数，通过Mapper Statement进行数据库CRUD操作，获得输出结果

# MyBatis架构

1. 接口层：提供数据CRUD和获取配置的接口
2. 数据处理层：参数映射、sql解析、sql执行、结果映射
3. 基础支撑层：连接管理、事务管理、配置加载、缓存处理


# 案例

