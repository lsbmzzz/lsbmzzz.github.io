---
layout:     post
title:      计算机网络 应用层 HTTP协议
subtitle:   计算机网络 应用层 HTTP协议
date:       2019-08-15
author:     正版慕言
header-img: img/blog_bg_4.jpg
catalog: true
tags:
    - 计算机网络

---

## 统一资源定位符URL
> URL是对可以从互联网上得到的资源的位置和访问方法的一种简洁的表示，是互联网上标准资源的地址。互联网上的每个文件都有一个唯一的URL，包含的信息指出文件的位置以及浏览器应该怎么处理它。

基本的URL包含 模式（协议）、服务器名称（或IP地址）、路径、文件名。

#### 第一部分：模式/协议
高速浏览器要如何处理。例如：

* http 超文本传输协议
* https 超文本传输安全协议
* ftp 文件传输协议
* file 本地电脑或网上分享的文件

#### 第二部分：文件所在服务器的名称或IP地址，后面是到达这个文件的路径和文件名称

## 超文本传输协议HTTP
HTTP协议是用于从WWW服务器传输超文本到本地浏览器的传输协议。它可以使浏览器更高效，网络传输减少。不仅保证计算机正确快速地传输超文本文档，还确定传输文档中的哪一部分以及哪部分内容首先显示。
HTTP是客户端浏览器或其他程序与Web服务器之间的应用层通信协议。

#### 在浏览器输入网址后执行会发生的事

1. 浏览器分析链接指向的URL
2. 浏览器向DNS请求解析网址
3. DNS解析出IP地址
4. 浏览器与服务器建立TCP连接（使用了TCP连接，保证数据的可靠传输）
5. 浏览器发出取文件命令
6. 服务器作出响应将对应的文件发送给浏览器
7. 释放TCP连接
8. 浏览器解析并显示出文件内容

#### HTTP是无连接的
无连接指的是限制每次连接只处理一个请求，服务器处理完请求并收到应答后就断开连接，以节省传输时间。
#### HTTP是无状态的
无状态指的是协议对于事务处理没有记忆能力，服务器不知道客户端是什么状态。
这一特性既有优点也有缺点。缺少状态意味着后续处理如果需要前面的信息，就必须重传，这会导致传送数据量增大。但服务器不需要先前的信息时，应答就比较快。

#### 一次HTTP的过程
用户点击某个文档连接时，HTTP协议首先和服务器建立TCP连接。三次握手的前两部分完成后，第三次握手客户端会吧HTTP请求报文发给服务器。服务器收到HTTP请求报文后，把请求的文档作为响应报文发回给客户。

#### HTTP的请求方法
![e4d460390e9098e7ed8d7c65b34d7355.png](/img/ComputerNetworks/计算机网络-HTTP请求方法.png)

* GET方法：请求服务器发送页面
* HEAD方法：只请求消息头，不需要真正的页面
* POST方法：提交表单时需要POST方法
* PUT方法：与GET相反，不是读取页面，而是写入页面
* DELETE方法：删除页面
* TRACE方法：回显服务器收到的请求，用于调试或诊断
* CONNECT方法：使用户通过一个中间设备与服务器建立一个连接
* OPTIONS方法：返回服务器针对特定资源所支持的HTTP请求方法

### GET和POST的比较

* GET方法：从指定的服务器中获取数据
    * 使用GET方法时，查询字符串被附加在URL地址后面一起发送给服务器
    * GET方法的特点：
        * GET请求能够被缓存
        * GET请求会被保存在浏览器的浏览记录中
        * GET请求的URL能够被保存为书签
        * GET请求有长度限制（URL的长度限制，因浏览器而不同）
        * GET请求主要用来获取数据
* POST方法：提交数据给指定的服务器处理
    * 使用POST方法时，查询字符串在POST信息中单独存在，和请求一起发送给服务器
    * POST方法的特点：
        * POST请求不能被缓存
        * POST请求不会被保存到浏览记录中
        * POST请求的URL不能存为书签
        * POST请求没有长度限制

## HTTP状态码
HTTP状态码是用以表示网页服务器HTTP响应状态的3位数字代码。
状态码有5类33种
![6462ebd2fc223b026ac869405c4043aa.png](/img/ComputerNetworks/计算机网络-HTTP状态码.png)

常见的状态码：

* 100 Continue：客户端应当继续发送请求的剩余部分。如果请求已经完成，忽略。
* 101 Switching Protocols：服务器已经理解了客户端的请求并将通过Upgrade消息头通知客户端采用不同的协议完成请求。
* 200 OK：请求已成功
* 201 Created：请求已被实现
* 202 Accepted：服务器已接受请求但尚未处理
* 300 Multiple Choices：被请求的资源有一系列可供选择的回馈信息
* 301 Moved Permanently：被请求的资源已经永久移动到新位置
* 400 Bad Request ：请求参数无法被理解或有误
* 404 Not Found：请求失败

## HTTP与HTTPS的区别

* HTTP使用明文传输，数据是未加密的安全性较差；HTTPS（SSL+HTTP）数据传输经过加密，安全性好
* HTTPS协议需要用到CA申请证书，一般需要一定的费用
* HTTP响应速度比HTTPS块，因为HTTP使用TCP建立连接，而HTTPS除了TCP的三个包，还需要SSL握手的9个包一共12个包
* HTTP和HTTPS使用不同的连接方式，HTTP端口是80，HTTPS是443
* HTTPS比HTTP更耗费服务器资源